let cells=document.getElementsByClassName("cell");cells=[...cells];let points,player,opponent,playerSign,compSign,lastingGame=1,movesMatrix=[],clickNum=0,canMove=0,plColor,compColor,pointsComp=0,pointsPlayer=0;function wy(){cells.forEach(e=>{e.addEventListener("click",sign)})}function checkPlayer(e){player=e,compColor=1===player?(opponent=2,plColor="#92cbd8","#da7878"):(opponent=1,plColor="#da7878","#92cbd8"),document.getElementsByClassName("checkPlayer-cont")[0].style.display="none",document.getElementsByClassName("table")[0].style.display="grid",startGame()}function startGame(){document.getElementsByClassName("checkPlayer-cont")[0].style.display="none",document.getElementsByClassName("table")[0].style.display="grid",document.getElementById("skres").style.display="none",document.getElementsByClassName("table")[0].style.pointerEvents="auto";for(let e=0;e<movesMatrix.length;e++){var t="c"+(e+1);document.getElementById(t).style.background="white"}points=0,movesMatrix=[0,0,0,0,0,0,0,0,0],Math.floor(2*Math.random())+1===player?canMove=1:computersMove(),document.getElementsByClassName("points")[0].style.display="block",document.getElementById("startAgain").style.display="block"}function endRound(){document.getElementsByClassName("checkPlayer-cont")[0].style.display="block",document.getElementsByClassName("table")[0].style.display="none"}function setStyle(e,t,o,s){let n=document.getElementById("skres");n.style.display="block",n.style.top=e,n.style.height=o,n.style.width=s,n.style.left=t,document.getElementById("skres").style.transform="rotate(0)"}function checkWin(e){return checkDraw(e),movesMatrix[0]===e&&movesMatrix[1]===e&&movesMatrix[2]===e&&setStyle("66px","inherit","15px","450px"),movesMatrix[3]===e&&movesMatrix[4]===e&&movesMatrix[5]===e&&setStyle("219px","inherit","15px","450px"),movesMatrix[6]===e&&movesMatrix[7]===e&&movesMatrix[8]===e&&setStyle("370px","inherit","15px","450px"),movesMatrix[2]===e&&movesMatrix[4]===e&&movesMatrix[6]===e&&(setStyle("-43px","215px","550px","15px"),document.getElementById("skres").style.transform="rotate(45deg)"),movesMatrix[0]===e&&movesMatrix[4]===e&&movesMatrix[8]===e&&(setStyle("-47px","218px","550px","15px"),document.getElementById("skres").style.transform="rotate(135deg)"),movesMatrix[0]===e&&movesMatrix[3]===e&&movesMatrix[6]===e&&setStyle("3px","66px","450px","15px"),movesMatrix[1]===e&&movesMatrix[4]===e&&movesMatrix[7]===e&&setStyle("3px","219px","450px","15px"),movesMatrix[2]===e&&movesMatrix[5]===e&&movesMatrix[8]===e&&setStyle("3px","370px","450px","15px"),document.getElementById("skres").style.background="rgba(0,0,0,0.6)","none"!=document.getElementById("skres").style.display?(win(e),1):0}function win(e){}function checkDraw(e){let t=0;for(let e=0;e<movesMatrix.length;e++)0!==movesMatrix[e]&&t++;t==movesMatrix.length&&endGame("Draw")}function computersMove(){let o=0;for(let e=0;e<movesMatrix.length;e++)0===movesMatrix[e]&&o++;let s=Math.floor(Math.random()*o)+1;o=0,setTimeout(function(){for(let e=0;e<movesMatrix.length;e++)if(0===movesMatrix[e]&&o++,0===movesMatrix[e]&&o===s){movesMatrix[e]=opponent;var t="c"+(e+1);document.getElementById(t).style.background=compColor;break}checkWin(opponent)?endGame(opponent):canMove=1},2)}function sign(){var e;1==canMove&&(e=this,0===movesMatrix[parseInt(e.id.replace("c",""))-1]&&(e.style.background=plColor,movesMatrix[parseInt(e.id.replace("c",""))-1]=player,checkWin(player)?endGame(player):(computersMove(),clickNum++),canMove=1))}function endGame(e){"Draw"==e||1!=e&&2!=e||(e==player?pointsPlayer++:pointsComp++),console.log(pointsComp,"   ",pointsPlayer),document.getElementsByClassName("table")[0].style.pointerEvents="none",document.getElementById("points-player").innerText=pointsPlayer+"",document.getElementById("points-computer").innerText=pointsComp+""}wy();